@model IEnumerable<SampleCRUD.Models.Employee>

@{
    ViewBag.Title = "Employee MVC";
}

<h2>Employee MVC with Ajax</h2>

<p>
    <a href="#" class="btn btn-primary" onclick="return loadEmployeeEdit('0')">Create New</a>
</p>

<div id="content-employeelist">

</div>

@section scripts {

    <script type="text/javascript">
        $(document).ready(function () {
            loadEmployeeList();
        });

        //Load Employee List
        function loadEmployeeList() {
            $.ajax({
                url: '/Employee/GetEmployeeList',
                type: 'get',
                dataType: 'html',
                success: function (data) {
                    $("#content-employeelist").html(data);
                },
                error: function (errormessage) { alert(errormessage.responseText); }
            })
        };

        //Load Employee Edit
        function loadEmployeeEdit(EmpID) {
            $.ajax({
                url: '/Employee/GetEmployeeEdit/' + EmpID,
                type: 'get',
                dataType: 'html',
                success: function (data) {
                    $("#content-employeelist").html(data);
                },
                error: function (errormessage) { alert(errormessage.responseText); }
            })
        };

    </script>
}
